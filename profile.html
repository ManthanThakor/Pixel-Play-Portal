<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>Profile</title>
  <link rel="icon" type="image/x-icon" href="Img/logo/PixelPlay.png" />
  <link rel="stylesheet" type="text/css" href="Scss2/profile.css" />
  <script src="https://kit.fontawesome.com/cb104e752f.js" crossorigin="anonymous"></script>
  <style>
    body {
      font-family: 'robot', sans-serif;
      color: #00ffb7;
      display: flex;
      justify-content: center;
      background: #000000;
      background: linear-gradient(rgba(0, 0, 0, 0.666), rgba(0, 0, 0, 0.605)), url(../Img/arcade-part/arcade-card/wp5496481-nier-automata-4k-desktop-wallpapers.jpg);
      
      background-repeat: no-repeat, no-repeat;
      background-size: cover;
  background-position: center;
  background-attachment: fixed;
    }

  </style>
</head>

<body>
  <div class="card">
    <a href="index.html" class="cont-btn"><button class="part-btn"><i class="fa-solid fa-house"></i> </button></a>
    <form id="edit-form">
      <h1>Profile Card</h1>
      <div class="profile-pic">
        <label class="-label" for="file" style="
        position: absolute;">
          <span class="glyphicon glyphicon-camera"></span>
          <span>Change Image</span>
        </label>
        <input id="file" type="file" onchange="loadFile(event)" />
        <div class="img-wrap">
          <img src="Img/event-part/event-back.jpg" id="output" />
        </div>
      </div>
      <div class="field">
        <label for="name">Name:</label>
        <input id="name" type="text" placeholder="Alexa" required />
      </div>
      <div class="field">
        <label for="status">Status:</label>
        <input id="status" type="text" placeholder="It's a nice day!" required />
      </div>
      <button class="sav-btn" type="submit" class="edit">Save</button>
    </form>
  </div>

  <script>
    var loadFile = function (event) {
      var image = document.getElementById("output");
      image.src = URL.createObjectURL(event.target.files[0]);
    };

    document.getElementById('edit-form').addEventListener('submit', function (event) {
      event.preventDefault();

      const imageSrc = document.getElementById('output').src;
      const name = document.getElementById('name').value;
      const status = document.getElementById('status').value;

      const profileCard = `
        <div class="card">
          <a href="index.html" class="cont-btn"><button class="part-btn"><i class="fa-solid fa-house"></i> </button></a>
          <form id="edit-form">
            <h1>Profile Card</h1>
            <label class="custom-file-upload fas">
              <div class="img-wrap">
                <img src="${imageSrc}"/>
              </div>
            </label>
            <div class="name">${name}</div>
            <div class="status">${status}</div>
            <button type="submit" class="sav-btn edit">Edit Profile</button>
          </form>
        </div>
      `;

      document.body.innerHTML = profileCard;

      document.getElementById('edit-form').addEventListener('submit', function (event) {
        event.preventDefault();
        renderEditForm();
      });
    });
  </script>
</body>

</html>
